# Calendar Widget 设计规范

> **版本**: 2.0
> **创建日期**: 2025-01-15
> **更新日期**: 2026-01-27
> **组件类型**: 信息展示组件
> **设计风格**: Bloomberg 终端 / Web3 金融风格

---

## 目录

1. [概述](#1-概述)
2. [核心视觉风格](#2-核心视觉风格)
3. [完整视图设计](#3-完整视图设计)
4. [极简视图设计](#4-极简视图设计)
5. [事件类型系统](#5-事件类型系统)
6. [交互规范](#6-交互规范)
7. [布局约束](#7-布局约束)

---

## 1. 概述

### 1.1 组件定位

Web3 日历是一个专为加密货币从业者设计的信息日历组件，采用 Bloomberg 终端风格，用于展示重要的 Web3 行业事件，包括代币解锁、空投投放、技术升级、行业会议等。

### 1.2 设计目标

- **信息密度优先**：在有限空间内展示最多有效信息
- **快速扫描**：用户一眼即可识别本月重要事件分布
- **硬核数据感**：深色背景与高对比度文字，极细网格线营造金融终端的严谨感
- **空间效率**：组件内部不允许滚动，所有信息在默认视口中呈现

### 1.3 视图模式

| 视图模式 | Grid 占用 | 主要内容 | 适用场景 |
|----------|-----------|----------|----------|
| 完整视图 | 2×2 | 月历视图、日期事件计数 | 需要查看整月事件分布 |
| 极简视图 | 2×2 | 今日日期、今日事件列表 | 空间受限、专注今日 |

视图切换通过**右键菜单**实现，在组件任意位置右键点击触发。

---

## 2. 核心视觉风格

### 2.1 设计原则

- **硬核数据感**：深色背景 + 高对比度文字 + 极细网格线
- **克制的色彩**：黑白灰为主，仅在关键状态使用色彩
- **几何秩序**：严格对齐，固定 6 行布局确保视觉重心稳定

### 2.2 关键色彩定义

| 色彩变量 | 值 | 用途 |
|----------|-----|------|
| `--terminal-bg` | `#0a0b0d` | 日历容器背景，深碳黑 |
| `--terminal-blue` | `#0095ff` | 今日高亮背景，终端蓝 |
| `--terminal-orange` | `#FF9900` | 事件计数角标，彭博橙 |
| `--grid-line` | `rgba(255, 255, 255, 0.12)` | 单元格分隔线 |
| `--text-dim` | `rgba(255, 255, 255, 0.4)` | 星期标题、非本月日期 |
| `--header-bg` | `#14171a` | 头部区域背景 |
| `--text-primary` | `rgba(255, 255, 255, 0.9)` | 日期数字 |
| `--text-bright` | `#FFFFFF` | 今日日期数字 |

### 2.3 容器参数

```
.terminal-container {
  width: 316px;
  height: 208px;
  background: var(--terminal-bg);
  border: 1px solid #1c1f24;
  border-radius: 16px;
  overflow: hidden;
}
```

### 2.4 网格布局

```
.calendar-grid {
  display: grid;
  grid-template-columns: repeat(7, 1fr);
  grid-template-rows: auto repeat(6, 1fr);
}
```

- 固定 6 行日期，视觉重心稳定
- 每个单元格包含右/下边框，最后一列/行无边框
- 其他月份日期显示上/下月填充日期

### 2.5 字体规范

| 元素 | 字号 | 字重 | 备注 |
|------|------|------|------|
| 年月标题 | 11px | 700 | Bold |
| 星期标题 | 10px | 700 | Bold，使用 text-dim |
| 日期数字 | 10px | 400 | 常规 |
| 事件计数 | 8px | 700 | Bold，橙色 |

---

## 3. 完整视图设计

### 3.1 整体布局

```
┌─────────────────────────────────────┐
│  <    2026年1月    >                │  ← 头部区域 (32px)
├─────────────────────────────────────┤
│  日  一  二  三  四  五  六          │  ← 星期标题 (20px)
├─────────────────────────────────────┤
│          [月历网格区域]              │  ← 日期网格 (6行)
│                                     │
└─────────────────────────────────────┘
```

### 3.2 头部区域

| 元素 | 描述 | 样式 |
|------|------|------|
| 前翻按钮 | Material Icons `chevron_left` | 14px，text-dim，hover 时变白 |
| 年月标题 | 显示当前年份和月份 | 11px Bold，白色，居中 |
| 后翻按钮 | Material Icons `chevron_right` | 14px，text-dim，hover 时变白 |

头部样式：
```css
.calendar-header {
  height: 32px;
  background: var(--header-bg);
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 0 16px;
}
```

### 3.3 星期标题行

- 显示中文星期简称：日、一、二、三、四、五、六
- 字号 10px，字重 700
- 颜色 `var(--text-dim)`
- 每个单元格有右边框和下边框
- 背景色 `rgba(255, 255, 255, 0.02)`

### 3.4 日期网格区域

#### 3.4.1 网格结构

- 7列 × 6行，固定布局
- 单元格之间使用 `var(--grid-line)` 分隔
- 最后一列无右边框，最后一行无下边框

#### 3.4.2 日期单元格状态

| 状态 | 样式 |
|------|------|
| 普通日期 | 白色文字，透明度 0.9 |
| 其他月份 | 透明度 0.1，背景 `rgba(0, 0, 0, 0.15)` |
| 今日高亮 | 背景 `var(--terminal-blue)`，白色文字，字重 700 |
| 事件计数 | 右上角绝对定位，橙色数字，字号 8px |

#### 3.4.3 今日高亮样式

```css
.current-day {
  background: var(--terminal-blue);
  color: #FFFFFF !important;
  font-weight: 700;
}
```

#### 3.4.4 事件计数角标

```css
.event-count {
  position: absolute;
  top: 1px;
  right: 2px;
  font-size: 8px;
  font-weight: 700;
  color: var(--terminal-orange);
  line-height: 1;
}
```

今日的角标颜色为白色：
```css
.current-day .event-count {
  color: #FFFFFF;
}
```

---

## 4. 极简视图设计

### 4.1 整体布局

极简视图专注于今日信息：

```
┌─────────────────────────┐
│  1月15日    周三         │  ← 日期信息
├─────────────────────────┤
│  今日重要事件            │  ← 标题
├─────────────────────────┤
│  • OP 代币解锁  14:00   │  ← 事件列表
│  • ETH Denver           │
│  • ZkSync 空投          │
│  • Arbitrum 升级        │
└─────────────────────────┘
```

### 4.2 日期信息区域

| 元素 | 样式 |
|------|------|
| 月份日期 | 主色调，粗体 |
| 星期 | 次要文本色 |

### 4.3 今日事件列表

- 纵向排列，最多显示 4 个
- 若无事件，显示"今日无重要事件"
- 事件按优先级排序：解锁 > 空投 > 升级 > 会议

---

## 5. 事件类型系统

### 5.1 事件类型定义

| 类型 | 标识 | 图标 | 颜色 |
|------|------|------|------|
| 代币解锁 | unlock | 🔓 | 红色（下跌风险） |
| 空投投放 | airdrop | 🎁 | 绿色（收益机会） |
| 技术升级 | upgrade | ⚡ | 黄色（技术变化） |
| 行业会议 | conference | 👥 | 蓝色（信息性） |

### 5.2 颜色使用规范

事件类型色仅用于：
- 事件卡片左侧色条
- 类型图标

---

## 6. 交互规范

### 6.1 右键菜单

在组件区域内任意位置右键点击触发：

```
┌─────────────────────┐
│  切换视图模式        │
│  ─────────────────   │
│  刷新事件数据        │
│  ─────────────────   │
│  组件设置...         │
└─────────────────────┘
```

### 6.2 鼠标交互

| 交互 | 效果 |
|------|------|
| 头部按钮 hover | text-dim → 白色 |
| 日期单元格 hover | 背景轻微提亮 |
| 有事件日期 hover | 显示悬浮事件卡片 |

### 6.3 点击交互

| 操作 | 效果 |
|------|------|
| 前翻/后翻按钮 | 切换月份，200ms 淡入淡出 |
| 日期单元格 | 选中/取消选中，显示事件卡片 |

---

## 7. 布局约束

### 7.1 空间约束

**核心原则**：组件内部不允许任何形式的滚动。

所有内容必须在默认视口中完整呈现。

### 7.2 内容截断策略

| 元素 | 截断策略 |
|------|----------|
| 事件标题 | 超出宽度显示省略号 |
| 事件列表 | 最多显示 4 条 |
| 悬浮卡片 | 最多显示 3 个事件 |

### 7.3 边界情况处理

| 情况 | 处理方式 |
|------|----------|
| 无事件日期 | 不显示事件计数 |
| 今日无事件 | 显示"今日无重要事件" |
| 长事件标题 | 截断并显示省略号 |
| 事件数 > 9 | 显示 "9+" |

---

## 附录 A: CSS 变量参考

```css
:root {
  /* 基础背景 */
  --terminal-bg: #0a0b0d;
  --header-bg: #14171a;

  /* 网格与边框 */
  --grid-line: rgba(255, 255, 255, 0.12);
  --container-border: #1c1f24;

  /* 文字颜色 */
  --text-primary: rgba(255, 255, 255, 0.9);
  --text-dim: rgba(255, 255, 255, 0.4);
  --text-other-month: rgba(255, 255, 255, 0.1);

  /* 功能色 */
  --terminal-blue: #0095ff;
  --terminal-orange: #FF9900;
}
```
